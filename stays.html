<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stays</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Source+Sans+3">
</head>
<script type="text/javascript" src="js/scripts.js"></script>
<body onload="updateTime(), updateSlider()">
<header>
    <h1>Stays</h1>
</header>
<nav>
    <ul>
        <li><a class="navbar" href="home.html">Home</a></li>
        <li><a class="navbar" href="flights.html">Flights</a></li>
        <li><a class="navbar" href="cruises.html">Cruises</a></li>
        <li><a class="navbar" href="stays.html">Stays</a></li>
        <li><a class="navbar" href="cars.html">Cars</a></li>
        <li><a class="navbar" href="contact.html">Contact Us</a></li>
    </ul>
</nav>
<div class="container">
    <aside>
        <h2>Checkout</h2>
        <p id="datetime"></p>
        <div>
            <input type="range" min="8" max="96" value="16" class="slideBox" id="slideRange">
        </div>
        <p>Font size: <span id="fontSize"></span>px</p>
        <p>Background Color</p>
        <input id="colorPicker" type="color" value="#ff0000" style="width:70%;">
        <p id="bgtext">Background color: #FFFFFF</p>
        <p id="confirm"></p>
        <p class="error" id="error"></p>
    </aside>
    <main>
        <h2>Select Booking Details</h2>
        <div id="bodyContent">
            <form>
                <table>
                    <tr>
                        <td>
                            <label for="city"> City </label>
                        </td>
                        <td>
                            <input type="text" id="city" value="City">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="chkin_dd"> Check-in Date </label>
                        </td>
                        <td>
                            <input type="date" id="chkin_dd" size="3">
                        </td>
                        <td>
                            <label for="chkout_dd"> Check-out Date </label>
                        </td>
                        <td>
                            <input type="date" id="chkout_dd" size="3">
                        </td>
                    </tr>
                    <tr>
                    <tr>
                        <td>
                            <label for="rooms"> Number of Rooms </label>
                        </td>
                        <td>
                            <input type="text" id="rooms">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label> Number of Guests</label>
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="adult">Adults</label>
                            <input type="text" id="adult" size="5">
                        </td>
                        <td>
                            <label for="child">Children</label>
                            <input type="text" id="child" size="5">
                        </td>
                        <td>
                            <label for="infant">Infants</label>
                            <input type="text" id="infant" size="5">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button type="submit" id="submitbtn" onclick="onSubmit()"
                                    style="font-size: 15px; padding: 5px"> Submit
                            </button>
                        </td>
                    </tr>
                </table>
            </form>

        </div>
    </main>
    </div>
    <footer>
        <p>&copy; 2024 Mega Vacation Deals</p>
    </footer>
    <script>

        function onSubmit(){
            const num_adult = parseInt(document.getElementById("adult").value);
            const city_name = document.getElementById("city").value.trim().toLowerCase();
            const num_rooms = parseInt(document.getElementById("rooms").value);
            const num_child = parseInt(document.getElementById("child").value);
            const num_infant = parseInt(document.getElementById("infant").value);
            const guest_count = num_adult + num_child;
            const city = ['austin','san francisco', 'houston', 'dallas', 'san antonio', 'los angeles', 'san diego'];
            document.getElementById("confirm").innerHTML=" ";
            document.getElementById("error").innerHTML=" ";
            let err_text = "";
            let norm_text = "";

            if (isNaN(num_rooms) || num_rooms < (guest_count/2)) {
                err_text+= "number of rooms selected cannot accommodate total guest count <br><br>";
            }
            else{
                norm_text+="Number of Rooms selected: "+ num_rooms + "<br>";
            }
            if (!city_name|| !city.includes(city_name)) {
                err_text += "City field must not be empty and must be a valid city in Texas or California <br><br>";
            }
            else{
                norm_text += "City: " + city_name + "<br>";
            }

            document.getElementById("confirm").innerHTML=norm_text;
            document.getElementById("error").innerHTML=err_text;

            // The user must enter check in date, and check out date anytime between
            // Sep 1 2024 to Dec 1st 2024.


        }
    </script>
</body>
</html>
